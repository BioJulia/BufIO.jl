<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>API reference · BufIO.jl</title><meta name="title" content="API reference · BufIO.jl"/><meta property="og:title" content="API reference · BufIO.jl"/><meta property="twitter:title" content="API reference · BufIO.jl"/><meta name="description" content="Documentation for BufIO.jl."/><meta property="og:description" content="Documentation for BufIO.jl."/><meta property="twitter:description" content="Documentation for BufIO.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">BufIO.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">BufIO</a></li><li><a class="tocitem" href="../readers/">Readers</a></li><li><a class="tocitem" href="../writers/">Writers</a></li><li><a class="tocitem" href="../types/">Types</a></li><li class="is-active"><a class="tocitem" href>API reference</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>API reference</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>API reference</a></li></ul></nav><div class="docs-right"><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Reference"><a class="docs-heading-anchor" href="#Reference">Reference</a><a id="Reference-1"></a><a class="docs-heading-anchor-permalink" href="#Reference" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BufIO.AbstractBufReader" href="#BufIO.AbstractBufReader"><code>BufIO.AbstractBufReader</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">abstract type AbstractBufReader end</code></pre><p>An <code>AbstractBufReader</code> is an IO type that exposes a buffer to the user, thereby allowing efficient IO.</p><div class="admonition is-warning" id="Warning-367ed8fe46eee67e"><header class="admonition-header">Warning<a class="admonition-anchor" href="#Warning-367ed8fe46eee67e" title="Permalink"></a></header><div class="admonition-body"><p>By default, subtypes of <code>AbstractBufReader</code> are <strong>not threadsafe</strong>, so concurrent usage should protect the instance behind a lock.</p></div></div><p>Subtypes <code>T</code> of this type should implement at least:</p><ul><li><code>get_buffer(io::T)</code></li><li><code>fill_buffer(io::T)</code></li><li><code>consume(io::T, n::Int)</code></li><li><code>Base.close(io::T)</code></li></ul><p><strong>Extended help</strong></p><p>Subtypes may optionally define the following methods. See their docstring for <code>BufReader</code> / <code>BufWriter</code> for details of the implementation:</p><ul><li><code>Base.seek</code></li><li><code>Base.filesize</code></li></ul><p>Subtypes <code>T</code> of this type have implementations for many Base IO methods, but with more precisely specified semantics. See docstrings of the specific functions of interest.</p></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BufIO.AbstractBufWriter" href="#BufIO.AbstractBufWriter"><code>BufIO.AbstractBufWriter</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">abstract type AbstractBufWriter end</code></pre><p>An <code>AbstractBufWriter</code> is an IO-like type which exposes mutable memory to the user, which can be written to directly. This can help avoiding intermediate allocations when writing. For example, integers can usually be written to buffered writers without allocating. </p><div class="admonition is-warning" id="Warning-a20a9de2f58966b2"><header class="admonition-header">Warning<a class="admonition-anchor" href="#Warning-a20a9de2f58966b2" title="Permalink"></a></header><div class="admonition-body"><p>By default, subtypes of <code>AbstractBufWriter</code> are <strong>not threadsafe</strong>, so concurrent usage should protect the instance behind a lock.</p></div></div><p>Subtypes of this type should not have a zero-sized buffer which cannot expand when calling <code>grow_buffer</code>.</p><p>Subtypes <code>T</code> of this type should implement at least:</p><ul><li><code>get_buffer(io::T)</code></li><li><code>grow_buffer(io::T)</code></li><li><code>Base.close(io::T)</code></li><li><code>Base.flush(io::T)</code></li><li><code>consume(io::T, n::Int)</code></li></ul><p>They may optionally implement</p><ul><li><code>get_unflushed(io::T)</code></li><li><code>get_nonempty_buffer(io::T, ::Int)</code></li></ul><p><strong>Extended help</strong></p><ul><li>Methods of <code>Base.close</code> should make sure that calling <code>close</code> on an already-closed object has no visible effects.</li><li><code>flush(x::T)</code> should be implemented, but may simply return <code>nothing</code> if there is no underlying stream to flush to.</li></ul></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BufIO.BufReader" href="#BufIO.BufReader"><code>BufIO.BufReader</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">BufReader{T &lt;: IO} &lt;: AbstractBufReader
BufReader(io::IO, [buffer_size::Int])::BufReader</code></pre><p>Wrap an <code>IO</code> in a struct with a new buffer, giving it the <code>AbstractBufReader</code> interface.</p><p>The <code>BufReader</code> has an infinitely growable buffer, and will only grow the buffer if <a href="../readers/#BufIO.fill_buffer-readers"><code>fill_buffer</code></a> is called while its internal buffer is full.</p><p>Throw an <code>ArgumentError</code> if <code>buffer_size</code> is less than 1.</p><pre><code class="language-julia-repl hljs">julia&gt; rdr = BufReader(IOBuffer(&quot;Hello, world!\nabc\r\ndef&quot;));

julia&gt; get_buffer(rdr)
0-element MemoryViews.ImmutableMemoryView{UInt8}

julia&gt; peek(rdr)
0x48

julia&gt; readline(rdr)
&quot;Hello, world!&quot;

julia&gt; String(readavailable(rdr))
&quot;abc\r\ndef&quot;</code></pre></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BufIO.BufWriter" href="#BufIO.BufWriter"><code>BufIO.BufWriter</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">BufWriter{T &lt;: IO} &lt;: AbstractBufWriter
BufWriter(io::IO, [buffer_size::Int])::BufWriter</code></pre><p>Wrap an <code>IO</code> in a struct with a new buffer, giving it the <code>AbstractBufWriter</code> interface.</p><p>The <code>BufWriter</code> has an infinitely growable buffer, and will only expand the buffer if <code>grow_buffer</code> is called on it while it does not contain any data (as shown by <code>get_unflushed</code>).</p><p>Throw an <code>ArgumentError</code> if <code>buffer_size</code> is &lt; 1.</p><pre><code class="language-julia-repl hljs">julia&gt; io = IOBuffer(); wtr = BufWriter(io);

julia&gt; print(wtr, &quot;Hello!&quot;)

julia&gt; write(wtr, [0x1234, 0x5678])
4

julia&gt; read(io) # wtr not flushed
UInt8[]

julia&gt; flush(wtr); seekstart(io); String(read(io))
&quot;Hello!4\x12xV&quot;

julia&gt; get_unflushed(wtr)
0-element MemoryViews.MutableMemoryView{UInt8}</code></pre></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BufIO.CursorReader" href="#BufIO.CursorReader"><code>BufIO.CursorReader</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">CursorReader(x) &lt;: AbstractBufReader</code></pre><p>A seekable, stateful reader of the content of any object <code>x</code> which implements <code>MemoryView(x)::MemoryView{UInt8}</code>.</p><p>Closing it does nothing.</p><pre><code class="language-julia-repl hljs">julia&gt; rdr = CursorReader(&quot;some\ncontent\nhere&quot;);

julia&gt; readline(rdr)
&quot;some&quot;

julia&gt; read(rdr, String)
&quot;content\nhere&quot;

julia&gt; seek(rdr, 8);

julia&gt; read(rdr, String)
&quot;tent\nhere&quot;</code></pre></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BufIO.IOError" href="#BufIO.IOError"><code>BufIO.IOError</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">IOError</code></pre><p>This type is thrown by errors of AbstractBufReader. They contain the <code>.kind::IOErrorKind</code> public property.</p><p>See also: <a href="#BufIO.IOErrorKinds.IOErrorKind"><code>IOErrorKinds.IOErrorKind</code></a></p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; rdr = CursorReader(&quot;some content&quot;);

julia&gt; try
           seek(rdr, 500)
       catch error
           if error.kind == IOErrorKinds.BadSeek
               println(stderr, &quot;Seeking operation out of bounds&quot;)
           else
               rethrow()
           end
        end
Seeking operation out of bounds</code></pre></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BufIO.IOReader" href="#BufIO.IOReader"><code>BufIO.IOReader</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">IOReader{T &lt;: AbstractBufReader} &lt;: IO</code></pre><p>Wrapper type to convert an <code>AbstractBufReader</code> to an <code>IO</code>.</p><p><code>IOReader</code>s implement the same part of the <code>IO</code> interface as <code>AbstractBufReader</code>, so this type is only used to satisfy type constraints.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; io = CursorReader(&quot;hello&quot;);

julia&gt; f(x::IO) = String(read(x));

julia&gt; f(io)
ERROR: MethodError: no method matching f(::CursorReader)
[...]

julia&gt; f(IOReader(io))
&quot;hello&quot;</code></pre></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BufIO.VecWriter" href="#BufIO.VecWriter"><code>BufIO.VecWriter</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">VecWriter([vec::Vector{UInt8}]) &lt;: AbstractBufWriter</code></pre><p>Create an <code>AbstractBufWriter</code> backed by a <code>Vector{UInt8}</code>. Read the (public) property <code>.vec</code> to get the vector back.</p><p>This type is useful as an efficient string builder through <code>String(io.vec)</code> or <code>takestring!(io)</code> (the latter in Julia 1.13+).</p><p>Functions <code>flush</code> and <code>close</code> do not affect the writer.</p><p>Mutating <code>io</code> will mutate <code>vec</code> and vice versa. Neither <code>vec</code> nor <code>io</code> will be invalidated by mutating the other, but doing so may affect the implicit (non-semantic) behaviour (e.g. memory reallocations or efficiency) of the other. For example, repeated and interleaved <code>push!(vec)</code> and <code>write(io, x)</code> may be less efficient, if one operation has memory allocation patterns that is suboptimal for the other operation.</p><pre><code class="language-julia-repl hljs">julia&gt; vw = VecWriter();

julia&gt; write(vw, &quot;Hello, world!&quot;, 0xe1fa)
15

julia&gt; append!(vw.vec, b&quot;More data&quot;);

julia&gt; String(vw.vec)
&quot;Hello, world!\xfa\xe1More data&quot;</code></pre></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BufIO.consume" href="#BufIO.consume"><code>BufIO.consume</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">consume(io::Union{AbstractBufReader, AbstractBufWriter}, n::Int)::Nothing</code></pre><p>Remove the first <code>n</code> bytes of the buffer of <code>io</code>. Consumed bytes will not be returned by future calls to <code>get_buffer</code>.</p><p>If n is negative, or larger than the current buffer size, throw an <code>IOError</code> with <code>ConsumeBufferError</code> kind. This check is a boundscheck and may be elided with <code>@inbounds</code>.</p></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BufIO.fill_buffer-Tuple{AbstractBufReader}" href="#BufIO.fill_buffer-Tuple{AbstractBufReader}"><code>BufIO.fill_buffer</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">fill_buffer(io::AbstractBufReader)::Union{Int, Nothing}</code></pre><p>Fill more bytes into the buffer from <code>io</code>&#39;s underlying buffer, returning the number of bytes added. After calling <code>fill_buffer</code> and getting <code>n</code>, the buffer obtained by <code>get_buffer</code> should have <code>n</code> new bytes appended.</p><p>This function must fill at least one byte, except</p><ul><li>If the underlying io is EOF, or there is no underlying io to fill bytes from, return 0</li><li>If the buffer is not empty, and cannot be expanded, return <code>nothing</code>.</li></ul><p>Buffered readers which do not wrap another underlying IO, and therefore can&#39;t fill its buffer should return 0 unconditionally. This function should never return <code>nothing</code> if the buffer is empty.</p><div class="admonition is-info" id="Note-7642511827b648db"><header class="admonition-header">Note<a class="admonition-anchor" href="#Note-7642511827b648db" title="Permalink"></a></header><div class="admonition-body"><p>Idiomatically, users should not call <code>fill_buffer</code> when the buffer is not empty, because doing so forces growing the buffer instead of letting <code>io</code> choose an optimal buffer size. Calling <code>fill_buffer</code> with a nonempty buffer is only appropriate if, for algorithmic reasons you need <code>io</code> itself to buffer some minimum amount of data.</p></div></div></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BufIO.get_buffer" href="#BufIO.get_buffer"><code>BufIO.get_buffer</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">get_buffer(io::AbstractBufReader)::ImmutableMemoryView{UInt8}</code></pre><p>Get the available bytes of <code>io</code>.</p><p>Calling this function when the buffer is empty should not attempt to fill the buffer. To fill the buffer, call <a href="../readers/#BufIO.fill_buffer-readers"><code>fill_buffer</code></a>.</p><pre><code class="nohighlight hljs">get_buffer(io::AbstractBufWriter)::MutableMemoryView{UInt8}</code></pre><p>Get the available mutable buffer of <code>io</code> that can be written to.</p><p>Calling this function when the buffer is empty should not attempt to fill the buffer. To increase the size of the buffer, call <a href="#BufIO.grow_buffer-Tuple{AbstractBufWriter}"><code>grow_buffer</code></a>.</p></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BufIO.get_nonempty_buffer-Tuple{AbstractBufReader}" href="#BufIO.get_nonempty_buffer-Tuple{AbstractBufReader}"><code>BufIO.get_nonempty_buffer</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">get_nonempty_buffer(x::AbstractBufReader)::Union{Nothing, ImmutableMemoryView{UInt8}}</code></pre><p>Get a buffer with at least one byte, if bytes are available. Otherwise, fill the buffer, and return the newly filled buffer. Returns <code>nothing</code> only if <code>x</code> is EOF.</p></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BufIO.get_nonempty_buffer-Tuple{AbstractBufWriter}" href="#BufIO.get_nonempty_buffer-Tuple{AbstractBufWriter}"><code>BufIO.get_nonempty_buffer</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">get_nonempty_buffer(x::AbstractBufWriter)::Union{Nothing, MutableMemoryView{UInt8}}</code></pre><p>Get a buffer with at least one byte, if bytes are available. Otherwise, call <code>grow_buffer</code>, then get the buffer again. Returns <code>nothing</code> if the buffer is still empty.</p></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BufIO.get_nonempty_buffer-Tuple{VecWriter, Int64}" href="#BufIO.get_nonempty_buffer-Tuple{VecWriter, Int64}"><code>BufIO.get_nonempty_buffer</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">get_nonempty_buffer(
    io::AbstractBufWriter, min_size::Int
)::Union{Nothing, MutableMemoryView{UInt8}}</code></pre><p>Get a nonempty buffer of at least size <code>min_size</code>.</p><p>This function need not be implemented for subtypes of <code>AbstractBufWriter</code> that do not flush their writes to an underlying IO.</p><div class="admonition is-warning" id="Warning-7505bac1cc687599"><header class="admonition-header">Warning<a class="admonition-anchor" href="#Warning-7505bac1cc687599" title="Permalink"></a></header><div class="admonition-body"><p>Use of this functions may cause excessive buffering without flushing, which is less efficient than calling the one-argument method in a loop. Authors should avoid implementing this method for types capable of flushing.</p></div></div></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BufIO.get_unflushed-Tuple{AbstractBufWriter}" href="#BufIO.get_unflushed-Tuple{AbstractBufWriter}"><code>BufIO.get_unflushed</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">get_unflushed(io::AbstractBufWriter)::MutableMemoryView{UInt8}</code></pre><p>Return a view into the buffered data already written to <code>io</code> and <code>consume</code>d, but not yet flushed to its underlying IO.</p><p>Bytes not appearing in the buffer may not be completely flushed if there are more layers of buffering in the IO wrapped by <code>io</code>. However, any bytes already consumed and not returned in <code>get_unflushed</code> should not be buffered in <code>io</code>.</p><p>Mutating the returned buffer is allowed, and should not cause <code>io</code> to malfunction. When <code>io</code> flushes, the updated values in the buffer will be flushed.</p><p>This function has no default implementation and methods are optionally added to subtypes of <code>AbstractBufWriter</code> that can fullfil the above restrictions.</p></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BufIO.grow_buffer-Tuple{AbstractBufWriter}" href="#BufIO.grow_buffer-Tuple{AbstractBufWriter}"><code>BufIO.grow_buffer</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">grow_buffer(io::AbstractBufWriter)::Int</code></pre><p>Increase the amount of bytes in the writeable buffer of <code>io</code> if possible, returning the number of bytes added. After calling <code>grow_buffer</code> and getting <code>n</code>, the buffer obtained by <code>get_buffer</code> should have <code>n</code> more bytes.</p><ul><li>If there is data in the buffer of <code>io</code>, flush it to the underlying io if possible.</li><li>Else, if <code>io</code>&#39;s buffer can be expanded, do so.</li><li>Else, return zero</li></ul><div class="admonition is-info" id="Note-9adda19c9d095e1d"><header class="admonition-header">Note<a class="admonition-anchor" href="#Note-9adda19c9d095e1d" title="Permalink"></a></header><div class="admonition-body"><p>Idiomatically, users should not call <code>grow_buffer</code> when the buffer is not empty, because doing so forces growing the buffer instead of letting <code>io</code> choose an optimal buffer size. Calling <code>grow_buffer</code> with a nonempty buffer is only appropriate if, for algorithmic reasons you need <code>io</code> buffer to be able to hold some minimum amount of data before flushing.</p></div></div></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BufIO.line_views-Tuple{AbstractBufReader}" href="#BufIO.line_views-Tuple{AbstractBufReader}"><code>BufIO.line_views</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">line_views(x::AbstractBufReader; chomp::Bool=true)</code></pre><p>Create an efficient iterator of lines of <code>x</code>. The returned views are <code>ImmutableMemoryView{UInt8}</code> views into <code>x</code>&#39;s buffer,  and are invalidated when <code>x</code> is mutated or the line iterator is advanced.</p><p>A line is defined as all data up to and including <code>\n</code> (0x0a) or <code>\r\n</code> (0x0d 0x0a), or the remainder of the data in <code>io</code> if no <code>\n</code> byte was found. If the input is empty, this iterator is also empty.</p><p>The lines are iterated as <code>ImmutableMemoryView{UInt8}</code>. Use the package StringViews.jl to turn them into <code>AbstractString</code>s. The <code>chomp</code> keyword (default: true), controls whether any trailing <code>\r\n</code> or <code>\n</code> should be removed from the output.</p><p>If <code>x</code> had a limited buffer size, and an entire line cannot be kept in the buffer, an <code>ArgumentError</code> is thrown.</p><p>The resulting iterator will NOT close <code>x</code> when done, this must be handled by the caller.</p></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BufIO.read_all!-Tuple{AbstractBufReader, MemoryViews.MutableMemoryView{UInt8}}" href="#BufIO.read_all!-Tuple{AbstractBufReader, MemoryViews.MutableMemoryView{UInt8}}"><code>BufIO.read_all!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">read_all!(io::AbstractBufReader, dst::MutableMemoryView{UInt8})::Int</code></pre><p>Read bytes into <code>dst</code> until either <code>dst</code> is filled or <code>io</code> is EOF, returning the number of bytes read.</p></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BufIO.read_into!-Tuple{AbstractBufReader, MemoryViews.MutableMemoryView{UInt8}}" href="#BufIO.read_into!-Tuple{AbstractBufReader, MemoryViews.MutableMemoryView{UInt8}}"><code>BufIO.read_into!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">read_into!(x::AbstractBufReader, dst::MutableMemoryView{UInt8})::Int</code></pre><p>Read bytes into the beginning of <code>dst</code>, returning the number of bytes read. This function will always read at least 1 byte, except when <code>dst</code> is empty, or <code>x</code> is EOF.</p><p>This function is defined generically for <code>AbstractBufReader</code>. New methods should strive to do at most one read call to the underlying IO, if <code>x</code> wraps such an <code>IO</code>.</p></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BufIO.IOErrorKinds.IOErrorKind" href="#BufIO.IOErrorKinds.IOErrorKind"><code>BufIO.IOErrorKinds.IOErrorKind</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">IOErrorKind</code></pre><p>Enum indicating what error was thrown. The current list is non-exhaustive, and more may be added in future releases. The integral value of these enums are subject to change in minor versions.</p><p>Current errors:</p><ul><li><code>ConsumeBufferError</code>: Occurs when calling <code>consume</code> with a negative amount of bytes, or with more bytes than <code>length(get_buffer(io))</code></li><li><code>EOF</code>: Occurs when trying a reading operation on a file that has reached end-of-file</li><li><code>BufferTooShort</code>: Thrown by various functions that require a minimum buffer size, which the <code>io</code> cannot provide. This should only be thrown if the buffer is unable to grow to the required size, and not if e.g. the buffer does not expand because the io is EOF.</li><li><code>BadSeek</code>: An out-of-bounds seek operation was attempted</li><li><code>PermissionDenied</code>: Acces was denied to a system (filesystem, network, OS, etc.) resource</li><li><code>NotFound</code>: Resource was not found, e.g. no such file or directory</li><li><code>BrokenPipe</code>: The operation failed because a pipe was broken. This typically happens when  writing to stdout or stderr, which then gets closed.</li><li><code>AlreadyExists</code>: Resource (e.g. file) could not be created because it already exists</li><li><code>NotADirectory</code>: Resource is unexpectedly not a directory. E.g. a path contained a non-directory file as an intermediate component.</li><li><code>IsADirectory</code>: Resource is a directory when a non-directory was expected</li><li><code>DirectoryNotEmpty</code>: Operation cannot succeed because it requires an empty directory</li><li><code>InvalidFileName</code>: File name was invalid for platform, e.g. too long name, or invalid characters.</li></ul></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="BufIO.IOErrorKinds" href="#BufIO.IOErrorKinds"><code>BufIO.IOErrorKinds</code></a> — <span class="docstring-category">Module</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">module IOErrorKinds</code></pre><p>Used as a namespace for IOErrorKind.</p></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.unsafe_read-Tuple{AbstractBufReader, Any, UInt64}" href="#Base.unsafe_read-Tuple{AbstractBufReader, Any, UInt64}"><code>Base.unsafe_read</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">unsafe_read(io::AbstractBufReader, ref, nbytes::UInt)::Int</code></pre><p>Copy <code>nbytes</code> from <code>io</code> into <code>ref</code>, returning the number of bytes copied. If <code>io</code> reached end of file, stop at EOF. <code>ref</code> is converted to a pointer using <code>Base.unsafe_convert(Ptr{UInt8}, Base.cconvert(Ptr, ref))</code>.</p><p>Safety: The user must ensure that the resulting pointer is valid, and points to at least <code>nbytes</code> of writeable memory.</p></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.readavailable-Tuple{AbstractBufReader}" href="#Base.readavailable-Tuple{AbstractBufReader}"><code>Base.readavailable</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">readavailable(io::AbstractBufReader)::Vector{UInt8}</code></pre><p>Read the available bytes of <code>io</code> to a new <code>Vector{UInt8}</code>, except if zero bytes are available. In that case, it will attempt to get more bytes exactly once. If still no bytes are available, <code>io</code> is EOF, and the resulting vector is empty.</p></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.peek-Tuple{AbstractBufReader, Type{UInt8}}" href="#Base.peek-Tuple{AbstractBufReader, Type{UInt8}}"><code>Base.peek</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">peek(io::AbstractBufReader)::UInt8</code></pre><p>Get the next <code>UInt8</code> in <code>io</code>, without advancing <code>io</code>, or throw an <code>IOError</code> containing <code>IOErrorKinds.EOF</code> if <code>io</code> is EOF.</p></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.read-Tuple{AbstractBufReader, Type{UInt8}}" href="#Base.read-Tuple{AbstractBufReader, Type{UInt8}}"><code>Base.read</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">read(io::AbstractBufReader, UInt8)::UInt8</code></pre><p>Get the next <code>UInt8</code> in <code>io</code>, or throw an <code>IOError</code> containing <code>IOErrorKinds.EOF</code> if <code>io</code> is EOF.</p></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.readbytes!" href="#Base.readbytes!"><code>Base.readbytes!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">readbytes!(io::AbstractBufReader, b::AbstractVector{UInt8}, nb::Integer=length(b))::Int</code></pre><p>Read at most <code>nb</code> bytes from <code>io</code> into <code>b</code>, returning the number of bytes read. This function will read zero bytes if and only if <code>io</code> is EOF.</p><p><code>b</code> must use one-based indexing. The size of <code>b</code> will be increased if needed (i.e. if nb is greater than length(b) and enough bytes could be read), but it will never be decreased.</p><p>It is generally preferred to use <code>read_into!</code> instead of this method.</p></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.copyline-Tuple{Union{AbstractBufWriter, IO}, AbstractBufReader}" href="#Base.copyline-Tuple{Union{AbstractBufWriter, IO}, AbstractBufReader}"><code>Base.copyline</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">copyline(
    out::Union{IO, AbstractBufWriter},
    from::AbstractBufReader;
    keep::Bool = false
) -&gt; out</code></pre><p>Copy one line from <code>from</code> to <code>out</code>, returning <code>out</code>. A line is defined as data up to and including \n (byte 0x0a), or all remaining data in <code>from</code> if no such byte is present.</p><p>If <code>keep</code> is <code>false</code>, as it is by default, the trailing <code>\r\n</code> (encoded as 0x0d 0x0a) or <code>\n</code> will not be copied to <code>out</code>, but it will be consumed from <code>from</code>.</p><p>This function may throw an <code>IOerror</code> with <code>IOErrorKinds.BufferTooShort</code>, if all the following occurs:</p><ul><li><code>keep</code> is <code>false</code></li><li>The reader has a buffer size of 1</li><li>The reader cannot expand its buffer</li><li>The only byte in the buffer is <code>\r</code> (0x0d). </li></ul></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.filesize-Tuple{CursorReader}" href="#Base.filesize-Tuple{CursorReader}"><code>Base.filesize</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">filesize(io::AbstractBufReader)::Int</code></pre><p>Get the total size, in bytes, which can be read by <code>io</code>, and the span in which <code>io</code> can be seeked. Types implementing <code>filesize</code> should also implement <code>seek</code>.</p><p>The filesize does not depend on the current reading state of the <code>io</code>, i.e. reading bytes should not change the filesize.</p></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.filesize-Tuple{VecWriter}" href="#Base.filesize-Tuple{VecWriter}"><code>Base.filesize</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">filesize(x::AbstractBufWriter)::Int</code></pre><p>Get the total size, in bytes, of data written to <code>io</code>. This includes previously flushed data, and data comitted by <code>consume</code> but not flushed. Types implementing <code>filesize</code> should also implement <code>seek</code>.</p></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.seek-Tuple{BufReader, Int64}" href="#Base.seek-Tuple{BufReader, Int64}"><code>Base.seek</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">seek(io::AbstractBufReader, offset::Int) -&gt; io</code></pre><p>Seek <code>io</code> to the zero-based position <code>offset</code>, if <code>io</code> supports seeking, and return <code>io</code>. When <code>offset === 0</code>, this is equivalent to <code>seekstart</code>. If <code>filesize(io)</code> is implemented, this is equivalent to <code>seekend(io)</code>.</p><p>Valid offsets are <code>0:filesize(io)</code>, if <code>io</code> implements <code>filesize</code>. Seeking outside these bounds throws an <code>IOError</code> of kind <code>BadSeek</code>.</p><p>This method is not generically defined for <code>AbstractBufReader</code>.</p><pre><code class="language-julia-repl hljs">julia&gt; rdr = BufReader(IOBuffer(&quot;Hello, world!&quot;));

julia&gt; String(read(rdr, 5))
&quot;Hello&quot;

julia&gt; seek(rdr, 3);

julia&gt; String(read(rdr, 5))
&quot;lo, w&quot;

julia&gt; seek(rdr, 13);

julia&gt; read(rdr)
UInt8[]</code></pre></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.seek-Tuple{VecWriter, Int64}" href="#Base.seek-Tuple{VecWriter, Int64}"><code>Base.seek</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">seek(io::AbstractBufWriter, offset::Int) -&gt; io</code></pre><p>Seek <code>io</code> to the zero-based position <code>offset</code>.</p><p>Valid values for <code>offset</code> are in <code>0:filesize(io)</code>, if <code>filesize</code> is defined. Seeking outside these bounds throws an <code>IOError</code> of kind <code>BadSeek</code>.</p><p>If seeking to before the current position (as defined by <code>position</code>), data between the new and the previous position need not be changed, and the underlying file or IO need not immediately be truncated. However, new write operations should write (or overwrite) data at the new position.</p><p>This method is not generically defined for <code>AbstractBufReader</code>. Implementors of <code>seek</code> should also define <code>filesize(io)</code> and <code>position(io)</code></p></div></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../types/">« Types</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.14.1 on <span class="colophon-date" title="Saturday 13 September 2025 09:03">Saturday 13 September 2025</span>. Using Julia version 1.11.6.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
